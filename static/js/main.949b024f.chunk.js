(this["webpackJsonpownerstown-test"]=this["webpackJsonpownerstown-test"]||[]).push([[0],[,,,,,,,,function(e,a,t){e.exports=t(23)},,,,,function(e,a,t){},function(e,a,t){},,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(6),l=t.n(r),i=(t(13),t(14),t(1)),o=t(2),s=t.n(o),u=t(3);var m=function(e){var a=e.name;if(!a)return null;var t=["THOR","HULK","ROBIN","FLASH","BLADE","BATMAN","PHANTOM","HELLBOY","IRONMAN","PUNISHER","SUPERMAN","SPIDERMAN","BLACKWIDOW","WOLVERINE","GHOSTRIDER","CAPTAINAMERICA"].join("-"),n=a.toUpperCase().replace("ANSWERED","").trim();return!!t.includes(n)&&c.a.createElement("div",null,c.a.createElement("img",{alt:a,width:"80",src:"images/".concat(n.toLowerCase(),".png")}))};t(18);var d=function(e){var a=e.message,t=e.field,n=e.buttons,r=e.actionButtons,l=(new Date).toTimeString().slice(0,5);return c.a.createElement("div",{className:"feature-phone__wrapper"},c.a.createElement("div",{className:"feature-phone__screen"},c.a.createElement("div",{className:"feature-phone__background"}),c.a.createElement("div",{className:"feature-phone__time"},l),c.a.createElement("div",{className:"feature-phone__battery"}),c.a.createElement("div",{className:"feature-phone__display"},c.a.createElement("div",{className:"feature-phone__message"},a),t,c.a.createElement("div",{className:"feature-phone__help"},c.a.createElement("div",{className:"feature-phone__help-left"},"Send"),c.a.createElement("div",{className:"feature-phone__help-right"},"Clear"))),c.a.createElement("div",{className:"feature-phone__grill"})),c.a.createElement("div",{className:"feature-phone__buttons-wrapper"},c.a.createElement("div",{className:"feature-phone__buttons"},c.a.createElement("div",{className:"feature-phone__dummy-buttons"},r),n)),c.a.createElement("div",{className:"feature-phone__mic-wrapper"},c.a.createElement("div",{className:"feature-phone__mic"})))};t(19);var E=function(e){var a=e.style,t=e.icon,n=e.value,r=e.center,l=e.binding,i=e.onClick,o=e.className,s=e.valueClass,u=function(e){i&&i(e,n)};return c.a.createElement("div",{tabIndex:"0",style:a,className:"keypad__key ".concat(r?"keypad__key--center":""," ").concat(o||""),onClick:function(e){return u(e)}},t,n&&c.a.createElement("div",{className:"keypad__key-value ".concat(s||"")},n),l&&c.a.createElement("div",{className:"keypad__key-binding"},l),r&&c.a.createElement("div",{className:"keypad__key-large"}))};t(20);var v=function(){return c.a.createElement("div",{className:"call-animation"},c.a.createElement("img",{alt:"call",className:"call-animation__img",src:"images/call.png"}),c.a.createElement("div",{className:"call-animation__text"},"Calling"))};var f=t(4),p=t.n(f),b=t(7),_=function(e){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/ownerstown-test-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL,"api/v1/heroes")+h(e))},h=function(e){return"?code=".concat(e)};t(22);var g=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),f=o[0],h=o[1],g=Object(n.useState)(""),k=Object(i.a)(g,2),N=k[0],O=k[1],C=function(e){var a=Object(n.useState)(!0),t=Object(i.a)(a,2),c=t[0],r=t[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),E=d[0],v=d[1];return Object(n.useEffect)((function(){v(""),u(""),r(!0),Object(b.a)(p.a.mark((function a(){var t,n,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,e){a.next=3;break}throw new Error("Use the secret code to call for a superhero");case 3:return a.next=5,_(e);case 5:return t=a.sent,a.next=8,t.json();case 8:if((n=a.sent).success){a.next=11;break}throw new Error(n.error);case 11:(c=n.data.heroes[0])?v(c+" ANSWERED"):u("No hero found"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),u(a.t0.message);case 18:return a.prev=18,r(!1),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[0,15,18,21]])})))()}),[e]),{loading:c,hero:E,error:s}}(N),w=C.loading,y=C.hero,j=C.error,S=function(){var e=Object(n.useState)(null),a=Object(i.a)(e,2),t=a[0],c=a[1],r=Object(n.useCallback)((function(e){c(e)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",r,!1),function(){document.removeEventListener("keydown",r,!1)}}),[]),t}();Object(n.useEffect)((function(){r(y||j)}),[j,y]),Object(n.useEffect)((function(){if(S){var e=S.key;A(S,"Backspace"===e?"back":"Escape"===e?"clear":" "===e?"#":"Enter"===e?"\u2731":e)}}),[S]);var A=function(e,a){if(isNaN(a))switch(a){case"#":h(f+" ");break;case"\u2731":if(w)return;f&&O(f);break;case"clear":if(w)return;O(""),h("");break;case"back":f&&h(f.slice(0,f.length-1))}else h(f+a)},x=[{value:1,binding:"@.?",onClick:A},{value:2,binding:"abc",onClick:A},{value:3,binding:"def",onClick:A},{value:4,binding:"ghi",onClick:A},{value:5,binding:"jkl",onClick:A},{value:6,binding:"mno",onClick:A},{value:7,binding:"pqrs",onClick:A},{value:8,binding:"tuv",onClick:A},{value:9,binding:"wxyz",onClick:A},{binding:c.a.createElement(s.a,{path:u.e,size:.5}),className:"send-btn",valueClass:"asterix",value:"\u2731",onClick:A},{value:"0",binding:"",onClick:A},{binding:c.a.createElement(s.a,{path:u.a,size:.6}),value:"#",onClick:A}];return c.a.createElement(n.Fragment,null,c.a.createElement(d,{message:c.a.createElement(n.Fragment,null,w&&c.a.createElement(v,null),!w&&c.a.createElement(m,{name:t}),!w&&c.a.createElement("div",null,t)),field:c.a.createElement("input",{type:"text",readOnly:!0,value:f}),buttons:x.map((function(e,a){return c.a.createElement(E,Object.assign({key:a},e))})),actionButtons:c.a.createElement(n.Fragment,null,c.a.createElement("div",null,c.a.createElement(E,{onClick:function(){return A({},"\u2731")},icon:c.a.createElement(s.a,{size:1.2,path:u.b})}),c.a.createElement(E,{style:{marginTop:"4px"},onClick:function(){return A({},"\u2731")},icon:c.a.createElement(s.a,{style:{marginBottom:"4px"},path:u.d,size:.7})})),c.a.createElement(E,{center:!0}),c.a.createElement("div",null,c.a.createElement(E,{onClick:function(){return A({},"back")},icon:c.a.createElement(s.a,{path:u.b,size:1.2})}),c.a.createElement(E,{style:{marginTop:"4px"},onClick:function(){return A({},"clear")},icon:c.a.createElement(s.a,{style:{transform:"rotate(135deg)",marginBottom:"4px"},path:u.c,size:.7})})))}))};var k=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(g,null),c.a.createElement("div",{className:"info-wrapper"},c.a.createElement("div",{className:"info-icon"},"i"),c.a.createElement("div",{className:"info-text"},"Type ",c.a.createElement("strong",null,"0<space><code>")," and call a superhero.",c.a.createElement("br",null),"E.g. 4855 calls HULK",c.a.createElement("br",null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.949b024f.chunk.js.map